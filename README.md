# USDT Trading App

轻量安全的 USDT 出售/充值 App（Expo RN）。已实现：
- 平台最小下单额度（默认 200，可在后台修改）
- 后台访问防护（普通用户完全不可见）
- 免费实时数据互通（Vercel 无服务器 + HTTPS + HMAC 签名）
- 本地备份/恢复、一键重试、崩溃兜底（ErrorBoundary）

## 关键操作指南

- 修改最小兑换金额：个人中心 -> 后台管理 -> 最小兑换金额(USDT) -> 保存
- 管理员入口：仅管理员账号在个人中心看到“后台管理”。普通账号不可见，也无法跳转。
- 订单扣减/拒绝退款：下单即扣 USDT；管理员拒绝后自动退回。
- 远端同步：默认不阻断本地操作。配置了 Vercel 域名与密钥后，后台“实时数据”面板可查看远端统计。

## 远端配置（可选）

1. 在 `app.json` -> `expo.extra` 填写：
   - `remoteBaseUrl`: 你的 Vercel 域名（例如 `https://xxx.vercel.app`）
   - `syncSecret`: 自定义的签名密钥（12+位随机字符串）
2. 部署本仓库根目录下 `api/sync.js` 到 Vercel（详见下文“部署步骤”）。
3. 管理员后台 -> 实时数据 面板点击“刷新远端”。

## 本地备份/恢复

- 进入 个人中心 -> 数据备份/恢复
- 复制文本保存；恢复时粘贴回输入框，点击“立即恢复”。

## 安全测试清单（手测）

1. 非管理员：
   - Tab、个人中心无“后台管理”入口
   - 手动执行 `navigation.navigate('AdminDashboard')` 无法进入，回到首页
2. 管理员：
   - 可访问后台页面；最小兑换金额修改成功；非管理员调用接口会提示 not_admin
3. 订单：
   - 下单余额立即扣减；拒绝后退回；通过后不重复扣减
4. 远端：
   - 未配置域名/密钥不影响下单
   - 配置后，后台“实时数据”显示计数

## 版本号

当前 `app.json` 版本：1.0.1
