import React, { createContext, useContext, useState, useEffect } from 'react';
import AsyncStorage from '@react-native-async-storage/async-storage';

export const I18nContext = createContext();

export const useI18n = () => {
  const context = useContext(I18nContext);
  if (!context) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
};

// 语言翻译对象
const translations = {
  zh: {
    // 底部导航
    trading_hall: '交易大厅',
    my_orders: '我的订单',
    news_center: '资讯中心',
    personal_center: '个人中心',
    
    // 交易大厅
    sell_usdt: '出售USDT',
    quick_match: '快捷匹配',
    user_trade_success: '用户****成功出售%{amount} USDT',
  ok_merchant: 'OK商家',
  huobi_merchant: 'HUOBI商家',
  fast_merchant: 'FAST商家',
  slow_merchant: 'SLOW商家',
    amount: '金额',
    order_limit: '订单限额',
    settlement_time: '结算时间',
  unit_price: '单价',
  minutes: '分钟',
  transaction_count: '成交笔数',
  return_amount: '回资金额',
  filter: '筛选',
  merchant_filter: '商家筛选',
  filter_transactions_desc: '成交笔数（高→低）',
  filter_settlement_fast: '结算时间（快→慢）',
  filter_limit_asc: '订单限额（小→大）',
  reset: '重置',
  close: '关闭',
  input_usdt_amount: '输入USDT数量',
  start_match: '开始匹配',
  match_success: '匹配成功',
  match_not_found: '未匹配到，调整金额后重试',
  service_unavailable: '服务不可用，稍后再试',
  sell_btn: '出售',
  // 滚动提示
  ticker_withdraw_success: '用户****成功提现%{amount} USDT',
  ticker_team_commission: '用户****团队返佣%{amount} USDT',
  ticker_order_profit: '用户****订单完成 获得收益%{amount} USDT',
    
    // 我的订单
    all: '全部',
    pending_payment: '待收款',
    pending_confirm: '待确认',
    dispute: '纠纷单',
    completed: '已完成',
    empty_state: '空空如也~',
    
    // 收款地址
    payment_address: '收款地址',
    add_payment_method: '添加收款方式',
    auto_match_description: '订单自动匹配说明',
    deposit_refund_description: '押金退还说明',
    
    // 个人中心
  my_assets: '我的资产(USDT)',
  total_earnings: '总收益(USDT)',
  personal_order_earnings: '个人订单收益(USDT)',
  team_commission_earnings: '下级返佣(USDT)',
  today_earnings: '今日收益(USDT)',
  withdraw_withdrawable: '提现（可提 %{amount}）',
  current_method_prefix: '当前方式：',
  success: '成功',
  no_withdrawable_amount: '暂无可提现金额',
  confirm_withdraw_message: '是否将可提现金额申请打款？',
  withdraw_submitted: '提现申请已提交',
  withdraw_failed: '提现失败',
  withdrawable_amount: '可提现金额',
  team_total_commission: '团队总返佣',
    wallet_management: '钱包管理',
    deposit: '充币',
    withdraw: '提币',
    exchange_rate_setting: '汇率设置',
    my_team: '我的团队',
    my_messages: '我的消息',
    invite_rewards: '邀请有奖',
    income_records: '收支记录',
    earnings_details: '收益明细',
    transfer_records: '转账记录',
    contact_us: '联系我们',
    faq: '常见问题',
    about_us: '关于我们',
    
  // FAQ
  about_upai: '关于U派',
  about_upai_content: 'U派是一家高价收U的平台，在U派你可以自由兑换美元（USD），操作简单，资金结算稳定，每单与商家一起完成，单单佣金10%~55%不等。支持代理返佣模式，邀请好友可获得持续佣金。',
  need_deposit: 'U派需要押金吗？',
  need_deposit_content: 'U派至今不会收取一分押金，官方人员及官方客服不会让你转账、打款。任何遇到“先交U或USDT打币到私人钱包、手续费”等均为诈骗，请提高警惕。',
  how_to_be_agent: '如何成为代理',
  how_to_be_agent_content: 'U派代理门槛只需邀请码的认可，你就可以自由邀请亲朋好友注册并完成订单获得返佣。一级返佣30%，二级15%，三级5%。返佣实时入账，可提现到USDT地址。',
  beware_fake: '谨防假冒，新手必读',
  beware_fake_content: '请认准官方域名和App下载渠道，任何让你私下转账或离开平台交易的行为都是高风险，切勿轻信自称官方的陌生人。',

  // Stack 标题
  register: '注册',
  admin_dashboard: '后台管理',
  admin_unlock: '管理员解锁',
  order_detail: '订单详情',
  order_create: '创建订单',
    
    // 团队
    team_total: '团队总人数',
    level1_agent: '一级代理',
    level2_agent: '二级代理',
    level3_agent: '三级代理',
    commission_rate: '返佣比例',
    commission_30: '30%',
    commission_15: '15%',
    commission_5: '5%',
    
    // 通用
    confirm: '确认',
    cancel: '取消',
  logout_confirm_message: '退出后需要重新输入用户名和密码',
  media_permission_denied: '未获得相册访问权限，请在系统设置中开启',
  open_settings: '去设置',
  view_or_paste_base64: '手动粘贴/查看 base64',
  hide_base64: '收起 base64',
  base64_hint: '这是图片的 Base64 编码，保存即可，无需修改',
    loading: '加载中...',
    refresh: '刷新',
    more: '查看更多',
    copy: '复制',
    copied: '已复制',
    submit: '提交',
    save: '保存',
    version: '版本',
    privacy_policy: '隐私政策',
    terms_of_service: '用户条款',
    compliance_links_hint: '合规链接将在配置远端地址后显示',
    backup_restore: '数据备份/恢复',
    backup_tip: '把下面这段文字复制保存；恢复时粘贴回来并点击恢复即可。请勿泄露给他人。',
    copy_backup: '复制备份',
    export_backup: '重新导出',
    restore_now: '立即恢复',
    restore_done: '恢复完成',
  status: '状态',
  exchanged_amount: '已经兑换数量',
  net_receive_total: '获得总额',
  net_receive_note: '获得总额 = 出售金额 - 合约服务费 - 抢单费',
  // 远端同步（仅管理员界面可见，不含“后台”字样）
  remote_data_panel: '实时数据',
  remote_orders: '订单(远端)',
  remote_deposits: '充值(远端)',
  refresh_remote: '刷新远端',
  retry_sync: '重试未送达',
  // 系统状态 / 同步队列诊断
  system_status: '系统状态',
  sync_queue_title: '同步队列',
  queue_empty: '暂无待同步项',
  retry_count: '重试次数',
  next_attempt_at: '下次发送',
  discard: '丢弃本条',
  retry_now: '手动重试',
  status_waiting: '待发送',
  status_failed: '失败',
  status_scheduled: '已计划',
  status_sent: '已发送',
  payload_summary: '摘要',
  type_user: '用户',
  type_payment_method: '支付方式',
  type_rate: '汇率',
  type_platform_deposit: '平台收款',
  type_order: '订单',
  type_deposit: '充值',
  show_history: '展开历史',
  hide_history: '收起历史',
  // 用户管理/密码重置
  reset_password_btn: '重置密码',
  confirm_reset_password: '确认重置该用户密码？重置后原密码失效',
  reset_password_success: '已重置',
  reset_password_failed: '重置失败',
    // 用户管理 / 密码重置
    temp_password_label: '临时密码',
    must_change_password_note: '用户登录后需强制修改',
    force_change_password_title: '修改临时密码',
    force_change_password_desc: '当前账户密码已被重置，请先设置新密码才能继续使用。',
    new_password_label: '新密码',
    confirm_new_password_label: '确认新密码',
    password_mismatch: '两次输入不一致',
  password_change_success: '密码已更新',
  password_change_failed: '更新失败',
  export_users_csv: '导出 CSV',
  export_users_csv_done: 'CSV 已导出',
  direct_children_count: '直推人数',
  // Admin 用户列表搜索/排序 & CSV 表头
  search_users_placeholder: '搜索用户(用户名/邀请码/上级码)',
  sort_by: '排序',
  ascending: '升序',
  descending: '降序',
  registered_time: '注册时间',
  last_login_time: '最近登录',
  balance_usdt: '钱包余额(USDT)',
  yes: '是',
  no: '否',
  csv_username: '用户名',
  csv_registered_time: '注册时间',
  csv_last_login_time: '最近登录时间',
  csv_balance_usdt: '余额USDT',
  csv_withdrawable_usdt: '可提现金额',
  csv_invite_code: '邀请码',
  csv_inviter_code: '上级码',
  csv_is_admin: '是否管理员',
  csv_direct_children: '直推人数',
  temp_password_label: '临时密码',
  must_change_password_note: '用户登录后需强制修改',
  force_change_password_title: '修改临时密码',
  force_change_password_desc: '当前账户密码已被重置，请先设置新密码才能继续使用。',
  new_password_label: '新密码',
  confirm_new_password_label: '确认新密码',
  password_mismatch: '两次输入不一致',
  password_change_success: '密码已更新',
  password_change_failed: '更新失败',
  export_users_csv: '导出 CSV',
  export_users_csv_done: 'CSV 已导出',
  direct_children_count: '直推人数',
  // 最小下单额设置
  min_order_amount_label: '最小兑换金额(USDT)',
  min_order_amount_hint: '少于该数额不可下单',
  min_order_amount_invalid: '请输入合法的最小兑换金额（≥1的整数）',
  min_order_amount_saved: '最小兑换金额已保存',
  min_order_amount_not_met: '当前最小兑换金额为 %{min} USDT，本次输入 %{amount} USDT 不满足要求',
  platform_min_order_amount_hint: '平台最小 %{min} USDT',
  grabbing_fee_percent: '抢单费(%{percent}%)',
  insufficient_balance_desc_net: '钱包余额不足，本单需持有 %{amount} USDT。当前余额 %{balance} USDT。请先充值。',
  // OrderDetail 额外
  order_not_found: '未找到订单',
  confirm_update_order_status: '确认将订单状态更新为：%{status}？',
  order_status_updated: '状态已更新',
  update_failed: '更新失败',
  cannot_submit: '无法提交',
  withdraw_need_address_approved: '需先在“收款地址”页面通过人工复核后才能提现',
  confirm_submit_withdraw_request: '确认提交提现申请？',
  cannot_undo: '提交后不可撤销',
  demo: '演示',
  withdraw_demo_notice: '测试版暂未真实执行提现流程',
  mark_pending_confirm: '标记待确认',
  mark_dispute: '标记纠纷',
  withdraw_demo_button: '申请提现演示',
  // 订单状态（管理员打款审核）
  pending_admin_review: '等待商家放款',
  approved_payout: '放款成功',
  rejected_payout: '放款被拒绝',
  // 管理员订单详情/打款
  payout_address: '收款地址',
  tx_hash: '交易哈希',
  confirm_approve_payout: '确认批准打款？',
  confirm_reject_payout: '确认拒绝此订单？',
  audit_info: '审核信息',
  reviewer: '审核人',
  mark_completed: '标记完成',
  confirm_mark_completed: '确认标记为已完成？',
  administrator: '管理员',
  invite_code_label: '邀请码',
  inviter_code_label: '上级码',
  beneficiary: '受益人',
  from_source: '来自',
  order_id_label: '订单号',
  no_permission: '无权限',
  admin_only_access: '仅管理员可访问后台',
  page_unavailable: '页面不可用',
  returning_to_home: '正在返回首页',
  error: '错误',
  save_failed: '保存失败',
  tx_hash_optional: '打款交易哈希（可选）',
  users: '用户',
  orders: '订单',
  commissions_label: '返佣',
  no_orders: '暂无订单',
  choose_qr_from_album: '从相册选择二维码图片',
  // 订单创建
  place_order_to: '向%{merchant}下单',
  completion_progress: '完成进度',
  enter_usdt: '输入USDT',
  enter_usd: '输入美元',
  enter_or_select_usdt: '输入/选择出售数量（USDT）',
  enter_or_select_usd: '输入/选择出售金额（USD）',
  selected_amount: '已选购买数量',
  service_fee_percent: '合约服务费(%{percent}%)',
  grabbing_fee: '抢单费',
  pay_total: '付款总额',
  trade_note_optional: '交易备注（可选）',
  optional: '选填',
  confirm_order: '确认下单',
  invalid_amount: '请输入合法的数量',
  order_submit_failed: '下单失败',
  confirm_place_order_message: '确认下单 %{amount} USDT（≈ $%{usd}）？订单提交后不可修改',
  unknown_merchant: '未知商家',
  ticker_order_created: '用户****成功下单%{amount} USDT',
  insufficient_balance_title: '余额不足',
  insufficient_balance_desc: '钱包余额不足，本单需支付 %{total} USDT（包含出售数量 %{amount} USDT + 服务费 %{fee} USDT + 抢单费 %{grabbing} USDT）。请先充值。',
  think_again_btn: '考虑一下',
  go_deposit_btn: '前往充值',
  // 基础汇率设置/本地币显示
  base_rates_title: '基础汇率设置',
  base_rate_cny: 'USDT→CNY',
  base_rate_krw: 'USDT→KRW',
  base_rate_jpy: 'USDT→JPY',
  local_currency_note: '用于本地币显示/利润估算，不影响结算',
  recharge: '充值',
  company_deposit_address: '官方充值地址',
  only_accept_trc20: '仅接收USDT(TRC20)，发送其他虚拟货币可能造成永久损失',
  deposit_amount: '充值金额',
  amount_placeholder: '请输入金额',
  upload_proof: '上传支付凭证',
  proof_required: '请上传支付凭证',
  submit_deposit_request: '提交充值申请',
  deposit_pending_review: '已提交，等待审核',
  deposit_approved: '充值已入账',
  deposit_rejected: '充值被拒绝',
  copy_address: '复制地址',
  go_recharge: '去充值',
  approved_amount: '到账金额',
  review_remark: '审核备注',
  approve: '批准',
  reject: '拒绝',
  deposits_review: '充值审核',
  no_deposits: '暂无充值申请',

    // 返佣 & 邀请
    invitation_code: '邀请码',
    copy_invitation_code: '复制邀请码',
    commission_rules: '返佣规则',
    commission_rules_desc: '一级返佣30%、二级15%、三级5%，下级下单即享佣金',
    level1_commission: '一级返佣',
    level2_commission: '二级返佣',
    level3_commission: '三级返佣',
    total_commission: '累计返佣',
    recent_commissions: '最近返佣明细',
    from_user: '来源用户',
    team_hierarchy: '团队层级',
    team_hierarchy_flow: '组建团队流程',
    share_invite_code: '分享好友—发送邀请码或链接',
    friend_register_fill: '好友成功注册—填写您的邀请码',
    friend_order_commission: '好友完成订单—自动计算返佣',
    commission_withdrawable_realtime: '佣金实时统计—可提现到钱包',
    commission_details: '返佣明细',
    commission_amount: '返佣金额',
    commission_level: '返佣层级',
    created_time: '产生时间',
    view_all: '查看全部',
    refreshing: '刷新中...',
    copied_success: '复制成功！',
    alert_title: '提示',
    input_usdt_amount_alert: '请输入匹配的USDT数量',
    match_not_found_title: '未匹配到',
    grid_rate_settings: '汇率设置',
    grid_language_settings: '语言设置',
    grid_my_team: '我的团队',
    grid_my_messages: '我的消息',
    grid_invite_rewards: '邀请有奖',
    grid_income_records: '收支记录',
    grid_earnings_details: '收益明细',
    grid_transfer_records: '转账记录',
    grid_contact_us: '联系我们',
    grid_faq: '常见问题',
    grid_about_us: '关于我们',
    manage_payment_address: '管理收款地址',
  add_payment_method: '添加收款方式',
  manage_payment_methods: '支付方式管理',
  edit_payment_method: '编辑支付方式',
  confirm_delete_method: '确认删除该支付方式？',
  choose_method: '选择收款方式',
  method_kakao_pay: 'Kakao Pay',
  method_kr_bank_card: '韩国银行卡',
  method_visa: 'Visa',
  method_mastercard: 'Mastercard（万事达）',
  method_usdt_trc20: 'USDT(TRC20)',
  kakao_phone: 'Kakao Pay 注册手机号',
  kr_bank_name: '银行名称',
  kr_bank_card_number: '银行卡号',
  kr_account_name: '账户名',
  cvv: 'CVV',
  bank_name_keb_hana: 'KEB 韩亚银行',
  bank_name_shinhan: '新韩银行',
  bank_name_kb: '国民银行',
  bank_name_woori: '友利银行',
  card_number: '卡号',
  card_holder: '持卡人',
  expiry_date: '有效期',
  usdt_address: 'USDT地址(TRC20)',
  save_method: '保存',
  delete: '删除',
  set_default_method: '设为默认',
  default_method_hint: '默认方式将用于自动选择，可随时更改。',
  default_method_label: '默认',
  set_default_method_success: '已设为默认',
  no_methods: '暂无收款方式',
  submit_success: '保存成功',
  pm_tips_title: '使用与安全指引',
  pm_tips_body: '1）CVV 仅用于校验，不会保存。2）Kakao Pay 注册手机号格式：010-XXXX-XXXX。3）韩国银行卡号需为 13-16 位纯数字，并选择开户银行。4）Visa 以 4 开头、Mastercard 以 5 开头，且必须通过 Luhn 校验。',
  card_number_invalid: '卡号格式不正确',
  kakao_phone_invalid: 'Kakao手机号格式应为 010-XXXX-XXXX',
  bank_name_invalid: '请选择银行名称',
  bank_card_invalid: '银行卡号应为13-16位数字',
  account_name_invalid: '账户名不能为空（支持中/英/韩）',
  visa_number_invalid: 'Visa 卡号格式不正确',
  mastercard_number_invalid: 'Mastercard 卡号格式不正确',
  card_luhn_invalid: '卡号未通过Luhn校验',
  card_holder_invalid: '持卡人姓名格式不正确',
  card_expiry_invalid: '有效期格式应为 MM/YY',
  card_expiry_past: '有效期必须晚于当前日期',
  card_cvv_invalid: 'CVV应为3位数字',
  card_holder_required: '请输入持卡人姓名',
  expiry_invalid: '有效期格式应为 MM/YY',
  usdt_address_invalid: 'USDT TRC20 地址格式不正确',
  unsupported_method_type: '暂不支持该收款类型',
  select_payment_method: '选择收款方式',
  no_usdt_address: '暂无USDT地址',
  add_usdt_address_first: '请先添加USDT收款地址',
  choose_address_for_payment: '选择用于收款的地址',
  selected_address: '已选地址',
    logout_btn: '退出登录',
  register_title: '注册',
  username_rules_hint: '仅字母/数字/下划线，4-20位',
  username_available: '用户名可用',
  username_taken: '用户名已被占用',
  password_rules_hint: '密码需≥6位，含字母+数字',
  invite_code_optional: '邀请码（选填）',
  invite_code_placeholder: '没有可留空',
  register_and_login: '注册并登录',
  have_account: '已经有账号？',
  go_login: '去登录',
  register_success_title: '注册成功',
  register_auto_login_desc: '已自动登录',
  enter_home: '进入首页',
  register_failed: '注册失败',
  // 登录
  login_title: '登录',
  username_label: '用户名',
  username_placeholder: '4-20位，仅字母数字下划线',
  password_label: '密码',
  password_placeholder: '至少6位，含字母+数字',
  login_btn: '登录',
  no_account: '还没有账号？',
  go_register: '去注册',
  username_invalid: '用户名格式不正确',
  password_invalid: '密码需≥6位，含字母+数字',
  login_failed: '登录失败',
  login_failed_desc: '请检查用户名或密码',
  messages_placeholder_title: '我的消息 (占位)',
  messages_empty_desc: '暂无消息。后续将展示系统通知、订单提醒与活动推送。',
  address_status: '地址状态',
  address_status_passed: '已通过，可提现',
  address_status_pending: '待复核，暂不可提现',
  address_not_submitted: '未提交地址',
  current_user: '当前用户',
  admin_management: '后台管理',
  page_unavailable: 'Page not available',
  returning_to_home: 'Returning to Home',
  become_first_admin: '成为首位管理员',
  become_admin_with_code: '使用解锁码成为管理员',
  unlock_code_demo_text: '当前演示解锁码: usdtapp-admin-001 (上线请替换)',
    // PaymentAddress
    payment_address_guide_title: 'USDT收款地址设置指南',
    chain_type_tron_default: '链类型：TRON（默认）',
    guide_step_select_chain: '1. 选择您的USDT链类型（默认TRON波场链）',
    guide_step_paste_address: '2. 复制钱包地址粘贴至输入框',
    guide_step_review_time: '3. 提交后等待人工复核（约24小时内）',
    payment_address_settings: '收款地址设置',
    chain_type: '链类型',
    usdt_address_label: 'USDT地址',
    placeholder_trc20: '以T开头的TRON地址，34位',
    placeholder_erc20: '0x开头，40位十六进制',
    format_ok: '格式正确',
    format_error_trc20: '格式错误（TRON地址以T开头，34位字符）',
    format_error_erc20: '格式错误（以0x开头，40位十六进制）',
    format_error: '格式错误',
    remark_optional: '备注(可选)',
    submitted_pending_review: '您的地址已提交，我们将在24小时内完成复核',
    approved_tip: '✅ 地址已通过复核，可正常提现',
    revise_and_resubmit: '修改并重新提交',
    submit_address: '提交地址',
    validation_failed: '校验失败',
    invalid_address_format_for_network: '%{network} 地址格式不正确，请检查',
    confirm_change_address_title: '确认修改地址？',
    confirm_change_address_desc: '修改地址将重新进入复核流程，期间无法提现',
    submitted_title: '已提交',
    resubmitted_desc: '地址已重新提交，我们将在24小时内完成复核',
    submitted_desc: '您的地址已提交，我们将在24小时内完成复核',
    test_approve_mock: '仅测试：模拟通过复核',
    auto_match_deposit_title: '自动匹配与押金说明',
    auto_match_point1: '1. 系统会根据订单金额与时间自动匹配商家；',
    auto_match_point2: '2. 若订单金额大于限额，将拆分为多单；',
    auto_match_point3: '3. 支付的保证金用于提高匹配成功率，订单完成后原路退还。',
  },
  
  en: {
    // Bottom navigation
    trading_hall: 'Trading Hall',
    my_orders: 'My Orders',
    news_center: 'News Center',
    personal_center: 'Personal Center',
    
    // Trading hall
    sell_usdt: 'Sell USDT',
    quick_match: 'Quick Match',
    user_trade_success: 'User**** successfully sold %{amount} USDT',
  ok_merchant: 'OK Merchant',
  huobi_merchant: 'HUOBI Merchant',
  fast_merchant: 'FAST Merchant',
  slow_merchant: 'SLOW Merchant',
    amount: 'Amount',
    order_limit: 'Order Limit',
    settlement_time: 'Settlement Time',
  unit_price: 'Unit Price',
  minutes: 'min',
  transaction_count: 'Transactions',
  return_amount: 'Return Amount',
  filter: 'Filter',
  merchant_filter: 'Merchant Filters',
  filter_transactions_desc: 'Transactions (High → Low)',
  filter_settlement_fast: 'Settlement Time (Fast → Slow)',
  filter_limit_asc: 'Order Limit (Small → Large)',
  reset: 'Reset',
  close: 'Close',
  input_usdt_amount: 'Enter USDT amount',
  start_match: 'Start Match',
  match_success: 'Matched',
  match_not_found: 'No match found. Try another amount.',
  service_unavailable: 'Service unavailable. Please try later.',
  sell_btn: 'Sell',
  // Ticker
  ticker_withdraw_success: 'User**** withdrew %{amount} USDT',
  ticker_team_commission: 'User**** team commission %{amount} USDT',
  ticker_order_profit: 'User**** order completed, earned %{amount} USDT',
    
    // My orders
    all: 'All',
    pending_payment: 'Pending Payment',
    pending_confirm: 'Pending Confirm',
    dispute: 'Dispute',
    completed: 'Completed',
    empty_state: 'Nothing here~',
    
    // Payment address
    payment_address: 'Payment Address',
    add_payment_method: 'Add Payment Method',
    auto_match_description: 'Auto Match Description',
    deposit_refund_description: 'Deposit Refund Description',
    
    // Personal center
  my_assets: 'My Assets(USDT)',
  total_earnings: 'Total Earnings(USDT)',
  personal_order_earnings: 'Personal Order Earnings(USDT)',
  team_commission_earnings: 'Team Commission(USDT)',
  today_earnings: "Today's Earnings(USDT)",
  withdraw_withdrawable: 'Withdraw (available %{amount})',
  current_method_prefix: 'Current method: ',
  success: 'Success',
  no_withdrawable_amount: 'No withdrawable amount',
  confirm_withdraw_message: 'Apply withdrawal for available amount?',
  withdraw_submitted: 'Withdrawal request submitted',
  withdraw_failed: 'Withdrawal failed',
  withdrawable_amount: 'Withdrawable Amount',
  team_total_commission: 'Team Total Commission',
    wallet_management: 'Wallet Management',
    deposit: 'Deposit',
    withdraw: 'Withdraw',
    exchange_rate_setting: 'Exchange Rate Setting',
    my_team: 'My Team',
    my_messages: 'My Messages',
    invite_rewards: 'Invite Rewards',
    income_records: 'Income Records',
    earnings_details: 'Earnings Details',
    transfer_records: 'Transfer Records',
    contact_us: 'Contact Us',
    faq: 'FAQ',
    about_us: 'About Us',
    
  // FAQ
  about_upai: 'About U-Pay',
  about_upai_content: 'U-Pay is a platform that buys USDT at competitive prices. You can freely exchange to USD with simple operations and stable settlement. Each order is completed with a merchant, and commissions range from 10% to 55%. Supports referral commissions; invite friends to earn continuously.',
  need_deposit: 'Does U-Pay require a deposit?',
  need_deposit_content: 'U-Pay never charges any deposit. Official staff or customer service will not ask you to transfer funds. Any request to send USDT to a private wallet or pay handling fees first is likely fraud.',
  how_to_be_agent: 'How to become an agent',
  how_to_be_agent_content: 'You only need an invitation code to become an agent. Invite friends to register and complete orders to earn commissions: Level 1 30%, Level 2 15%, Level 3 5%. Commissions are credited in real time and can be withdrawn to a USDT address.',
  beware_fake: 'Beware of impostors (Must-read)',
  beware_fake_content: 'Use only official domains and app download sources. Any request to trade off-platform or transfer privately is high risk. Do not trust strangers claiming to be official.',

  // Stack titles
  register: 'Register',
  admin_dashboard: 'Admin Dashboard',
  admin_unlock: 'Admin Unlock',
  order_detail: 'Order Detail',
  order_create: 'Create Order',
    
    // Team
    team_total: 'Total Team Members',
    level1_agent: 'Level 1 Agent',
    level2_agent: 'Level 2 Agent',
    level3_agent: 'Level 3 Agent',
    commission_rate: 'Commission Rate',
    commission_30: '30%',
    commission_15: '15%',
    commission_5: '5%',
    
    // Common
    confirm: 'Confirm',
    cancel: 'Cancel',
  logout_confirm_message: 'You will need to log in again after logout.',
  media_permission_denied: 'Media library permission not granted. Please enable in system settings.',
  open_settings: 'Open Settings',
  view_or_paste_base64: 'Paste/View base64',
  hide_base64: 'Hide base64',
  base64_hint: 'This is the image Base64 string. Just save it, no need to edit.',
    loading: 'Loading...',
    refresh: 'Refresh',
    more: 'View More',
    copy: 'Copy',
    copied: 'Copied',
    submit: 'Submit',
    save: 'Save',
    version: 'Version',
    privacy_policy: 'Privacy Policy',
    terms_of_service: 'Terms of Service',
    compliance_links_hint: 'Compliance links will appear after remote URL is configured',
    backup_restore: 'Backup / Restore',
    backup_tip: 'Copy the text below to save a backup. Paste it back and press restore to recover. Keep it private.',
    copy_backup: 'Copy Backup',
    export_backup: 'Re-Export',
    restore_now: 'Restore Now',
    restore_done: 'Restore Finished',
  status: 'Status',
  exchanged_amount: 'Exchanged Amount',
  net_receive_total: 'Net Received',
  net_receive_note: 'Net Received = Sell Total - Service Fee - Grabbing Fee',
  // Min order amount
  min_order_amount_label: 'Minimum Order Amount (USDT)',
  min_order_amount_hint: 'Orders below this amount are not allowed',
  min_order_amount_invalid: 'Enter a valid minimum amount (integer ≥1)',
  min_order_amount_saved: 'Minimum order amount saved',
  min_order_amount_not_met: 'Minimum is %{min} USDT. Entered %{amount} USDT does not meet requirement',
  platform_min_order_amount_hint: 'Platform min %{min} USDT',
  grabbing_fee_percent: 'Grabbing Fee (%{percent}%)',
  insufficient_balance_desc_net: 'Insufficient balance. You must hold %{amount} USDT. Current %{balance} USDT. Please deposit.',
  // OrderDetail extra
  order_not_found: 'Order not found',
  confirm_update_order_status: 'Confirm updating order status to: %{status}?',
  order_status_updated: 'Status has been updated',
  update_failed: 'Update failed',
  cannot_submit: 'Cannot submit',
  withdraw_need_address_approved: 'Please get your payout address manually approved on the "Payment Address" page before withdrawing',
  confirm_submit_withdraw_request: 'Submit a withdrawal request?',
  cannot_undo: 'This action cannot be undone',
  demo: 'Demo',
  withdraw_demo_notice: 'This is a demo. Withdrawal flow is not actually executed.',
  mark_pending_confirm: 'Mark Pending Confirm',
  mark_dispute: 'Mark Dispute',
  withdraw_demo_button: 'Withdraw (Demo)',
  // Order statuses (admin payout review)
  pending_admin_review: 'Awaiting Merchant Payout',
  approved_payout: 'Payout Successful',
  rejected_payout: 'Payout Rejected',
  // Admin order detail / payout
  payout_address: 'Payout Address',
  tx_hash: 'Transaction Hash',
  confirm_approve_payout: 'Confirm to approve payout?',
  confirm_reject_payout: 'Confirm to reject this order?',
  audit_info: 'Audit Info',
  reviewer: 'Reviewer',
  mark_completed: 'Mark Completed',
  confirm_mark_completed: 'Confirm mark as completed?',
  administrator: 'Admin',
  invite_code_label: 'Invite Code',
  inviter_code_label: 'Inviter Code',
  beneficiary: 'Beneficiary',
  from_source: 'From',
  order_id_label: 'Order ID',
  no_permission: 'No Permission',
  admin_only_access: 'Admins only',
  error: 'Error',
  save_failed: 'Save Failed',
  tx_hash_optional: 'Transaction hash (optional)',
  users: 'Users',
  orders: 'Orders',
  commissions_label: 'Commissions',
  no_orders: 'No orders yet',
  choose_qr_from_album: 'Choose QR image from album',
  // Order create
  place_order_to: 'Place order to %{merchant}',
  completion_progress: 'Completion Progress',
  enter_usdt: 'Enter USDT',
  enter_usd: 'Enter USD',
  enter_or_select_usdt: 'Enter/select amount (USDT)',
  enter_or_select_usd: 'Enter/select amount (USD)',
  selected_amount: 'Selected Amount',
  service_fee_percent: 'Service Fee (%{percent}%)',
  grabbing_fee: 'Grabbing Fee',
  pay_total: 'Total Payable',
  trade_note_optional: 'Trade Note (optional)',
  optional: 'Optional',
  confirm_order: 'Confirm Order',
  invalid_amount: 'Please enter a valid amount',
  order_submit_failed: 'Order failed',
  confirm_place_order_message: 'Confirm to place order for %{amount} USDT (≈ $%{usd})? This cannot be changed after submit.',
  unknown_merchant: 'Unknown merchant',
  ticker_order_created: 'User**** placed an order for %{amount} USDT',
  base_rates_title: 'Base Rate Settings',
  base_rate_cny: 'USDT→CNY',
  base_rate_krw: 'USDT→KRW',
  base_rate_jpy: 'USDT→JPY',
  local_currency_note: 'Used for local display/profit estimate only',
  enter_krw: 'Enter KRW',
  enter_or_select_krw: 'Enter/select amount (KRW)',
  insufficient_balance_title: 'Insufficient Balance',
  insufficient_balance_desc: 'Your wallet balance is insufficient. This order requires %{total} USDT (amount %{amount} + fee %{fee} + grabbing fee %{grabbing}). Please deposit first.',
  think_again_btn: 'Think Again',
  go_deposit_btn: 'Go Deposit',
  recharge: 'Recharge',
  company_deposit_address: 'Official Deposit Address',
  only_accept_trc20: 'Only USDT (TRC20) accepted. Sending other tokens may cause permanent loss.',
  deposit_amount: 'Deposit Amount',
  amount_placeholder: 'Enter amount',
  upload_proof: 'Upload Proof',
  proof_required: 'Please upload payment proof',
  submit_deposit_request: 'Submit Deposit Request',
  deposit_pending_review: 'Submitted. Pending review.',
  deposit_approved: 'Deposit credited',
  deposit_rejected: 'Deposit rejected',
  copy_address: 'Copy Address',
  go_recharge: 'Recharge',
  approved_amount: 'Approved Amount',
  review_remark: 'Review Remark',
  approve: 'Approve',
  reject: 'Reject',
  deposits_review: 'Deposit Review',
  no_deposits: 'No deposit requests',

    // Commission & Invitation
    invitation_code: 'Invitation Code',
    copy_invitation_code: 'Copy Invitation Code',
    commission_rules: 'Commission Rules',
    commission_rules_desc: 'Level 1: 30%, Level 2: 15%, Level 3: 5%. Earn when your referrals place orders.',
    level1_commission: 'Level 1 Commission',
    level2_commission: 'Level 2 Commission',
    level3_commission: 'Level 3 Commission',
    total_commission: 'Total Commission',
    recent_commissions: 'Recent Commission Details',
    from_user: 'From User',
    team_hierarchy: 'Team Hierarchy',
    team_hierarchy_flow: 'Team Building Flow',
    share_invite_code: 'Share your invitation code/link',
    friend_register_fill: 'Friend registers and fills your code',
    friend_order_commission: 'Friend completes order — commission granted',
    commission_withdrawable_realtime: 'Commission tracked in real-time — withdrawable',
    commission_details: 'Commission Details',
    commission_amount: 'Commission Amount',
    commission_level: 'Commission Level',
    created_time: 'Created Time',
    view_all: 'View All',
    refreshing: 'Refreshing...',
    copied_success: 'Copied!',
    alert_title: 'Notice',
    input_usdt_amount_alert: 'Please enter a USDT amount to match',
    match_not_found_title: 'No Match',
    grid_rate_settings: 'Rate Settings',
    grid_language_settings: 'Language',
    grid_my_team: 'My Team',
    grid_my_messages: 'My Messages',
    grid_invite_rewards: 'Invite Rewards',
    grid_income_records: 'Income Records',
    grid_earnings_details: 'Earnings Details',
    grid_transfer_records: 'Transfer Records',
    grid_contact_us: 'Contact Us',
    grid_faq: 'FAQ',
    grid_about_us: 'About Us',
    manage_payment_address: 'Manage Payment Address',
  add_payment_method: 'Add Payment Method',
  manage_payment_methods: 'Manage Payment Methods',
  edit_payment_method: 'Edit Payment Method',
  confirm_delete_method: 'Delete this payment method?',
  choose_method: 'Choose Payment Method',
  method_kakao_pay: 'Kakao Pay',
  method_kr_bank_card: 'Korean Bank Card',
  method_visa: 'Visa',
  method_mastercard: 'Mastercard',
  method_usdt_trc20: 'USDT (TRC20)',
  kakao_phone: 'Kakao Pay Phone',
  kr_bank_name: 'Bank Name',
  kr_bank_card_number: 'Card Number',
  kr_account_name: 'Account Name',
  cvv: 'CVV',
  bank_name_keb_hana: 'KEB Hana Bank',
  bank_name_shinhan: 'Shinhan Bank',
  bank_name_kb: 'KB Kookmin Bank',
  bank_name_woori: 'Woori Bank',
  card_number: 'Card Number',
  card_holder: 'Card Holder',
  expiry_date: 'Expiry Date',
  usdt_address: 'USDT Address (TRC20)',
  save_method: 'Save',
  delete: 'Delete',
  set_default_method: 'Set as Default',
  default_method_hint: 'Default method will be auto-selected and can be changed anytime.',
  default_method_label: 'Default',
  set_default_method_success: 'Set as default',
  no_methods: 'No payment methods yet',
  submit_success: 'Saved successfully',
  pm_tips_title: 'Usage & Security Guidelines',
  pm_tips_body: '1) CVV is used only for verification and is not stored. 2) Kakao Pay phone number format: 010-XXXX-XXXX. 3) Korean bank card numbers must contain 13-16 digits and include a selected bank. 4) Visa card numbers start with 4, Mastercard numbers start with 5, and all cards must pass Luhn validation.',
  card_number_invalid: 'Invalid card number',
  kakao_phone_invalid: 'Phone must be 010-XXXX-XXXX',
  bank_name_invalid: 'Please select bank',
  bank_card_invalid: 'Card number must be 13-16 digits',
  account_name_invalid: 'Account name required',
  visa_number_invalid: 'Invalid Visa number',
  mastercard_number_invalid: 'Invalid Mastercard number',
  card_luhn_invalid: 'Failed Luhn check',
  card_holder_invalid: 'Invalid card holder name',
  card_expiry_invalid: 'Expiry should be MM/YY',
  card_expiry_past: 'Expiry must be in the future',
  card_cvv_invalid: 'CVV must be 3 digits',
  card_holder_required: 'Please enter card holder name',
  expiry_invalid: 'Expiry should be MM/YY',
  usdt_address_invalid: 'Invalid USDT TRC20 address',
  unsupported_method_type: 'Unsupported method type',
  select_payment_method: 'Select Payment Method',
  no_usdt_address: 'No USDT address',
  add_usdt_address_first: 'Please add a USDT payment address first',
  choose_address_for_payment: 'Choose address for payment',
  selected_address: 'Selected Address',
    logout_btn: 'Log Out',
  register_title: 'Register',
  username_rules_hint: 'Letters/numbers/underscore, 4-20 chars',
  username_available: 'Username available',
  username_taken: 'Username already taken',
  password_rules_hint: 'Password must be at least 6 characters and include letters and numbers',
  invite_code_optional: 'Invitation Code (optional)',
  invite_code_placeholder: 'Leave blank if none',
  register_and_login: 'Register & Sign In',
  have_account: 'Already have an account?',
  go_login: 'Go to Login',
  register_success_title: 'Registration Successful',
  register_auto_login_desc: 'Signed in automatically',
  enter_home: 'Go to Home',
  register_failed: 'Registration failed',
  // Login
  login_title: 'Login',
  username_label: 'Username',
  username_placeholder: '4-20 chars: letters, digits, underscore',
  password_label: 'Password',
  password_placeholder: 'At least 6 chars, include letters and numbers',
  login_btn: 'Login',
  no_account: "Don't have an account?",
  go_register: 'Register',
  username_invalid: 'Invalid username format',
  password_invalid: 'Password must be ≥6 and include letters + numbers',
  login_failed: 'Login failed',
  login_failed_desc: 'Please check your username or password',
  messages_placeholder_title: 'My Messages (Placeholder)',
  messages_empty_desc: 'No messages yet. System notices, order alerts and promotions will appear here.',
  address_status: 'Address Status',
  address_status_passed: 'Approved, withdrawable',
  address_status_pending: 'Pending review, not withdrawable',
  address_not_submitted: 'Not submitted',
  current_user: 'Current User',
  admin_management: 'Admin Dashboard',
  remote_data_panel: 'Live Data',
  remote_orders: 'Orders (Remote)',
  remote_deposits: 'Deposits (Remote)',
  refresh_remote: 'Refresh Remote',
  retry_sync: 'Retry Pending',
  // System Status / Sync Queue Diagnostics
  system_status: 'System Status',
  sync_queue_title: 'Sync Queue',
  queue_empty: 'No pending items',
  retry_count: 'Retry Count',
  next_attempt_at: 'Next Attempt',
  discard: 'Discard',
  retry_now: 'Retry Now',
  status_waiting: 'Waiting',
  status_failed: 'Failed',
  status_scheduled: 'Scheduled',
  status_sent: 'Sent',
  payload_summary: 'Summary',
  type_user: 'User',
  type_payment_method: 'Payment Method',
  type_rate: 'Rate',
  type_platform_deposit: 'Platform Deposit',
  type_order: 'Order',
  type_deposit: 'Deposit',
  show_history: 'Show History',
  hide_history: 'Hide History',
  // User Management / Password reset
  reset_password_btn: 'Reset Password',
  confirm_reset_password: 'Confirm to reset this user\'s password? The old password will become invalid.',
  reset_password_success: 'Reset succeeded',
  reset_password_failed: 'Reset failed',
  temp_password_label: 'Temporary Password',
  must_change_password_note: 'User must change password on next login',
  force_change_password_title: 'Change Temporary Password',
  force_change_password_desc: 'Your password was reset. Please set a new one before continuing.',
  new_password_label: 'New Password',
  confirm_new_password_label: 'Confirm New Password',
  password_mismatch: 'Passwords do not match',
  password_change_success: 'Password updated',
  password_change_failed: 'Password update failed',
  export_users_csv: 'Export CSV',
  export_users_csv_done: 'CSV exported',
  direct_children_count: 'Direct Referrals',
  // Admin user list search/sort & CSV headers
  search_users_placeholder: 'Search users (username/invite code/upline)',
  sort_by: 'Sort By',
  ascending: 'Ascending',
  descending: 'Descending',
  registered_time: 'Registered',
  last_login_time: 'Last Login',
  balance_usdt: 'Wallet Balance (USDT)',
  yes: 'Yes',
  no: 'No',
  csv_username: 'Username',
  csv_registered_time: 'Registered Time',
  csv_last_login_time: 'Last Login Time',
  csv_balance_usdt: 'Balance USDT',
  csv_withdrawable_usdt: 'Withdrawable USDT',
  csv_invite_code: 'Invite Code',
  csv_inviter_code: 'Inviter Code',
  csv_is_admin: 'Admin?',
  csv_direct_children: 'Direct Referrals',
  become_first_admin: 'Become the first admin',
  become_admin_with_code: 'Become admin with unlock code',
  unlock_code_demo_text: 'Demo unlock code: usdtapp-admin-001 (replace for production)',
    // PaymentAddress
    payment_address_guide_title: 'USDT Payment Address Guide',
    chain_type_tron_default: 'Chain: TRON (default)',
    guide_step_select_chain: '1. Choose your USDT chain (default TRON)',
    guide_step_paste_address: '2. Paste your wallet address into the input',
    guide_step_review_time: '3. Submit and wait for manual review (~24h)',
    payment_address_settings: 'Payment Address Settings',
    chain_type: 'Chain Type',
    usdt_address_label: 'USDT Address',
    placeholder_trc20: 'TRON address starting with T, 34 chars',
    placeholder_erc20: 'Starts with 0x, 40 hex chars',
    format_ok: 'Format OK',
    format_error_trc20: 'Invalid format (TRON address starts with T, 34 chars)',
    format_error_erc20: 'Invalid format (starts with 0x, 40 hex chars)',
    format_error: 'Invalid format',
    remark_optional: 'Remark (optional)',
    submitted_pending_review: 'Submitted. We will review within 24 hours',
    approved_tip: '✅ Address approved, withdrawal enabled',
    revise_and_resubmit: 'Revise and Resubmit',
    submit_address: 'Submit Address',
    validation_failed: 'Validation Failed',
    invalid_address_format_for_network: '%{network} address format invalid. Please check.',
    confirm_change_address_title: 'Confirm change address?',
    confirm_change_address_desc: 'Changing the address will restart review. Withdrawals will be disabled during review.',
    submitted_title: 'Submitted',
    resubmitted_desc: 'Address resubmitted. We will review within 24 hours',
    submitted_desc: 'Your address has been submitted. We will review within 24 hours',
    test_approve_mock: 'Test only: Mock approve',
    auto_match_deposit_title: 'Auto-match and Deposit Notes',
    auto_match_point1: '1) System will auto-match merchants by amount and time',
    auto_match_point2: '2) Orders over the limit will be split',
    auto_match_point3: '3) Deposit improves match rate and is refunded upon completion',
  },
  
  ko: {
    // 하단 네비게이션
    trading_hall: '거래홀',
    my_orders: '내 주문',
    news_center: '뉴스 센터',
    personal_center: '개인 센터',
    
    // 거래홀
    sell_usdt: 'USDT 판매',
    quick_match: '빠른 매칭',
    user_trade_success: '사용자****가 %{amount} USDT를 성공적으로 판매했습니다',
  ok_merchant: 'OK 딜러',
  huobi_merchant: 'HUOBI 딜러',
  fast_merchant: 'FAST 딜러',
  slow_merchant: 'SLOW 딜러',
    amount: '금액',
    order_limit: '주문 한도',
    settlement_time: '결제 시간',
  unit_price: '단가',
  minutes: '분',
  transaction_count: '거래 수',
  return_amount: '회수 금액',
  filter: '필터',
  merchant_filter: '상인 필터',
  filter_transactions_desc: '거래 수(많음 → 적음)',
  filter_settlement_fast: '정산 시간(빠름 → 느림)',
  filter_limit_asc: '주문 한도(작음 → 큼)',
  reset: '재설정',
  close: '닫기',
  input_usdt_amount: 'USDT 수량 입력',
  start_match: '매칭 시작',
  match_success: '매칭 성공',
  match_not_found: '매칭 결과 없음. 금액을 조정해 보세요.',
  service_unavailable: '서비스를 사용할 수 없습니다. 잠시 후 다시 시도하세요.',
  sell_btn: '판매',
  // 티커
  ticker_withdraw_success: '사용자**** %{amount} USDT 출금 성공',
  ticker_team_commission: '사용자**** 팀 커미션 %{amount} USDT',
  ticker_order_profit: '사용자**** 주문 완료, 수익 %{amount} USDT',
    
    // 내 주문
    all: '전체',
    pending_payment: '결제 대기',
    pending_confirm: '확인 대기',
    dispute: '분쟁',
    completed: '완료',
    empty_state: '비어있음~',
    
    // 결제 주소
    payment_address: '결제 주소',
    add_payment_method: '결제 방법 추가',
    auto_match_description: '자동 매칭 설명',
    deposit_refund_description: '보증금 환불 설명',
    
    // 개인 센터
  my_assets: '내 자산(USDT)',
  total_earnings: '총 수익(USDT)',
  personal_order_earnings: '개인 주문 수익(USDT)',
  team_commission_earnings: '팀 커미션(USDT)',
  today_earnings: '오늘 수익(USDT)',
  withdraw_withdrawable: '출금 (가능 %{amount})',
  current_method_prefix: '현재 방식: ',
  success: '성공',
  no_withdrawable_amount: '출금 가능한 금액이 없습니다',
  confirm_withdraw_message: '출금 가능 금액을 신청하시겠습니까?',
  withdraw_submitted: '출금 신청이 제출되었습니다',
  withdraw_failed: '출금 실패',
  withdrawable_amount: '출금 가능 금액',
  team_total_commission: '팀 총 커미션',
    wallet_management: '지갑 관리',
    deposit: '입금',
    withdraw: '출금',
    exchange_rate_setting: '환율 설정',
    my_team: '내 팀',
    my_messages: '내 메시지',
    invite_rewards: '초대 보상',
    income_records: '수입 기록',
    earnings_details: '수익 세부사항',
    transfer_records: '송금 기록',
    contact_us: '문의하기',
    faq: '자주 묻는 질문',
    about_us: '회사 소개',
    
  // FAQ
  about_upai: 'U-Pay 소개',
  about_upai_content: 'U-Pay는 경쟁력 있는 가격으로 USDT를 매입하는 플랫폼입니다. 간단한 조작으로 USD로 자유롭게 교환할 수 있고, 정산이 안정적입니다. 각 주문은 상인과 함께 완료되며, 수수료는 10%~55% 범위입니다. 추천 수수료를 지원하여 친구를 초대하면 지속적으로 수익을 얻을 수 있습니다.',
  need_deposit: 'U-Pay에 보증금이 필요한가요?',
  need_deposit_content: 'U-Pay는 어떠한 보증금도 요구하지 않습니다. 공식 직원이나 고객센터는 송금을 요구하지 않습니다. 개인 지갑으로 USDT 전송이나 선결 수수료 요구는 사기일 가능성이 높습니다.',
  how_to_be_agent: '에이전트가 되는 방법',
  how_to_be_agent_content: '초대 코드만 있으면 에이전트가 될 수 있습니다. 친구를 초대해 가입 및 주문 완료 시 수수료를 받습니다: 1단계 30%, 2단계 15%, 3단계 5%. 수수료는 실시간으로 반영되며 USDT 주소로 출금할 수 있습니다.',
  beware_fake: '가짜 주의(필독)',
  beware_fake_content: '공식 도메인과 앱 다운로드 경로만 사용하세요. 플랫폼 외 거래나 개인 송금을 요구하는 행위는 매우 위험합니다. 자신을 공식이라고 칭하는 낯선 사람을 믿지 마세요.',

  // 스택 타이틀
  register: '회원가입',
  admin_dashboard: '관리자 대시보드',
  admin_unlock: '관리자 해제',
  order_detail: '주문 상세',
  order_create: '주문 생성',
    
    // 팀
    team_total: '총 팀 멤버',
    level1_agent: '1급 에이전트',
    level2_agent: '2급 에이전트',
    level3_agent: '3급 에이전트',
    commission_rate: '수수료율',
    commission_30: '30%',
    commission_15: '15%',
    commission_5: '5%',
    
    // 공통
    confirm: '확인',
    cancel: '취소',
  logout_confirm_message: '로그아웃 후 다시 로그인해야 합니다.',
  media_permission_denied: '앨범 접근 권한이 없습니다. 설정에서 허용해주세요.',
  open_settings: '설정 열기',
  view_or_paste_base64: 'base64 붙여넣기/보기',
  hide_base64: 'base64 접기',
  base64_hint: '이미지의 Base64 문자열입니다. 수정할 필요 없이 저장만 하면 됩니다.',
    loading: '로딩 중...',
    refresh: '새로고침',
    more: '더 보기',
    copy: '복사',
    copied: '복사됨',
    submit: '제출',
    save: '저장',
    version: '버전',
    privacy_policy: '개인정보 처리방침',
    terms_of_service: '이용약관',
    compliance_links_hint: '원격 주소 구성 후 링크가 표시됩니다',
    backup_restore: '백업 / 복원',
    backup_tip: '아래 텍스트를 복사해 저장하세요. 복원 시 붙여넣기 후 복원 버튼을 누르세요. 유출 금지.',
    copy_backup: '백업 복사',
    export_backup: '다시 내보내기',
    restore_now: '즉시 복원',
    restore_done: '복원 완료',
  status: '상태',
  exchanged_amount: '이미 교환 수량',
  net_receive_total: '수령 총액',
  net_receive_note: '수령 총액 = 판매 금액 - 서비스 수수료 - 선점 수수료',
  // 최소 주문 금액
  min_order_amount_label: '최소 교환 금액(USDT)',
  min_order_amount_hint: '이 금액 미만은 주문 불가',
  min_order_amount_invalid: '유효한 최소 금액을 입력하세요 (정수 ≥1)',
  min_order_amount_saved: '최소 교환 금액이 저장되었습니다',
  min_order_amount_not_met: '현재 최소 교환 금액은 %{min} USDT, 입력 %{amount} USDT 는 조건을 충족하지 않습니다',
  platform_min_order_amount_hint: '플랫폼 최소 %{min} USDT',
  grabbing_fee_percent: '선점 수수료(%{percent}%)',
  insufficient_balance_desc_net: '잔액 부족. 보유 필요 %{amount} USDT. 현재 %{balance} USDT. 먼저 충전하세요.',
  // OrderDetail 추가
  order_not_found: '주문을 찾을 수 없습니다',
  confirm_update_order_status: '주문 상태를 %{status}(으)로 변경하시겠습니까?',
  order_status_updated: '상태가 업데이트되었습니다',
  update_failed: '업데이트 실패',
  cannot_submit: '제출할 수 없음',
  withdraw_need_address_approved: '출금 전 “수령 주소” 페이지에서 수동 검토를 통과해야 합니다',
  confirm_submit_withdraw_request: '출금 신청을 제출하시겠습니까?',
  cannot_undo: '제출 후 취소할 수 없습니다',
  demo: '데모',
  withdraw_demo_notice: '본 기능은 데모입니다. 실제 출금 프로세스는 실행되지 않습니다.',
  mark_pending_confirm: '확인 대기로 표시',
  mark_dispute: '분쟁으로 표시',
  withdraw_demo_button: '출금 신청 데모',
  // 주문 상태 (관리자 출금 심사)
  pending_admin_review: '상인 출금(송금) 대기',
  approved_payout: '상인 출금 완료',
  rejected_payout: '상인 출금 거절',
  // 관리자 주문 상세/송금
  payout_address: '수령 주소',
  tx_hash: '트랜잭션 해시',
  confirm_approve_payout: '출금을 승인하시겠습니까?',
  confirm_reject_payout: '이 주문을 거절하시겠습니까?',
  audit_info: '심사 정보',
  reviewer: '심사자',
  mark_completed: '완료 처리',
  confirm_mark_completed: '완료로 표시하시겠습니까?',
  administrator: '관리자',
  invite_code_label: '초대 코드',
  inviter_code_label: '상위 코드',
  beneficiary: '수혜자',
  from_source: '발신',
  order_id_label: '주문 번호',
  no_permission: '권한 없음',
  admin_only_access: '관리자만 접근 가능',
  error: '오류',
  save_failed: '저장 실패',
  tx_hash_optional: '트랜잭션 해시(선택)',
  users: '사용자',
  orders: '주문',
  commissions_label: '커미션',
  no_orders: '주문 없음',
  choose_qr_from_album: '앨범에서 QR 이미지 선택',
  // 주문 생성
  place_order_to: '%{merchant}에 주문',
  completion_progress: '완료 진행률',
  enter_usdt: 'USDT 입력',
  enter_usd: 'USD 입력',
  enter_or_select_usdt: '판매 수량 입력/선택 (USDT)',
  enter_or_select_usd: '판매 금액 입력/선택 (USD)',
  selected_amount: '선택한 수량',
  service_fee_percent: '계약 서비스 수수료(%{percent}%)',
  grabbing_fee: '선점 수수료',
  pay_total: '총 결제금액',
  trade_note_optional: '거래 메모(선택)',
  optional: '선택 입력',
  confirm_order: '주문 확인',
  invalid_amount: '유효한 수량을 입력하세요',
  order_submit_failed: '주문 실패',
  confirm_place_order_message: '주문 수량 %{amount} USDT (≈ $%{usd})를 확인하시겠습니까? 제출 후 수정할 수 없습니다.',
  unknown_merchant: '알 수 없는 상인',
  ticker_order_created: '사용자**** 주문 생성 %{amount} USDT',
  base_rates_title: '기초 환율 설정',
  base_rate_cny: 'USDT→CNY',
  base_rate_krw: 'USDT→KRW',
  base_rate_jpy: 'USDT→JPY',
  local_currency_note: '표시/이익 추정용, 정산 영향 없음',
  enter_krw: 'KRW 입력',
  enter_or_select_krw: '입력/선택 금액 (KRW)',
  insufficient_balance_title: '잔액 부족',
  insufficient_balance_desc: '지갑 잔액이 부족합니다. 본 주문에 필요한 금액은 %{total} USDT (판매 수량 %{amount} + 서비스 수수료 %{fee} + 선점 수수료 %{grabbing}). 먼저 충전하세요.',
  think_again_btn: '다시 생각',
  go_deposit_btn: '충전하기',
  recharge: '충전',
  company_deposit_address: '공식 충전 주소',
  only_accept_trc20: 'USDT(TRC20)만 지원. 다른 코인 전송 시 영구 손실 가능.',
  deposit_amount: '충전 금액',
  amount_placeholder: '금액 입력',
  upload_proof: '결제 증빙 업로드',
  proof_required: '결제 증빙을 업로드하세요',
  submit_deposit_request: '충전 신청 제출',
  deposit_pending_review: '제출 완료. 검토 대기.',
  deposit_approved: '충전 입금 완료',
  deposit_rejected: '충전 거절됨',
  copy_address: '주소 복사',
  go_recharge: '충전 이동',
  approved_amount: '승인 금액',
  review_remark: '검토 메모',
  approve: '승인',
  reject: '거절',
  deposits_review: '충전 검토',
  no_deposits: '충전 신청 없음',

    // 커미션 & 초대
    invitation_code: '초대 코드',
    copy_invitation_code: '초대 코드 복사',
    commission_rules: '수수료 규칙',
    commission_rules_desc: '1단계 30%, 2단계 15%, 3단계 5%. 하위 사용자가 주문하면 수수료 획득.',
    level1_commission: '1단계 수수료',
    level2_commission: '2단계 수수료',
    level3_commission: '3단계 수수료',
    total_commission: '총 수수료',
    recent_commissions: '최근 수수료 내역',
    from_user: '발신 사용자',
    team_hierarchy: '팀 계층',
    team_hierarchy_flow: '팀 구성 흐름',
    share_invite_code: '친구에게 초대 코드/링크 공유',
    friend_register_fill: '친구가 회원가입 시 귀하의 코드를 입력',
    friend_order_commission: '친구가 주문 완료 — 수수료 지급',
    commission_withdrawable_realtime: '실시간 집계 — 출금 가능',
    commission_details: '수수료 내역',
    commission_amount: '수수료 금액',
    commission_level: '수수료 단계',
    created_time: '생성 시간',
    view_all: '전체 보기',
    refreshing: '새로고침 중...',
    copied_success: '복사 성공!',
    alert_title: '알림',
    input_usdt_amount_alert: '매칭할 USDT 수량을 입력하세요',
    match_not_found_title: '매칭 없음',
    grid_rate_settings: '환율 설정',
    grid_language_settings: '언어 설정',
    grid_my_team: '내 팀',
    grid_my_messages: '내 메시지',
    grid_invite_rewards: '초대 보상',
    grid_income_records: '수입 기록',
    grid_earnings_details: '수익 상세',
    grid_transfer_records: '송금 기록',
    grid_contact_us: '문의하기',
    grid_faq: 'FAQ',
    grid_about_us: '회사 소개',
    manage_payment_address: '결제 주소 관리',
  add_payment_method: '결제 수단 추가',
  manage_payment_methods: '결제수단 관리',
  edit_payment_method: '결제수단 수정',
  confirm_delete_method: '이 결제수단을 삭제하시겠습니까?',
  choose_method: '결제 수단 선택',
  method_kakao_pay: '카카오페이',
  method_kr_bank_card: '한국 은행카드',
  method_visa: 'Visa',
  method_mastercard: '마스터카드',
  method_usdt_trc20: 'USDT(TRC20)',
  kakao_phone: '카카오페이 전화번호',
  kr_bank_name: '은행명',
  kr_bank_card_number: '카드번호',
  kr_account_name: '예금주',
  cvv: 'CVV',
  bank_name_keb_hana: 'KEB 하나은행',
  bank_name_shinhan: '신한은행',
  bank_name_kb: 'KB 국민은행',
  bank_name_woori: '우리은행',
  card_number: '카드 번호',
  card_holder: '카드 소유자',
  expiry_date: '유효기간',
  usdt_address: 'USDT 주소(TRC20)',
  save_method: '저장',
  delete: '삭제',
  set_default_method: '기본값으로 설정',
  default_method_hint: '기본 결제수단은 자동 선택되며 언제든 변경할 수 있습니다.',
  default_method_label: '기본',
  set_default_method_success: '기본값으로 설정됨',
  no_methods: '등록된 결제 수단이 없습니다',
  submit_success: '저장되었습니다',
  pm_tips_title: '이용 및 보안 안내',
  pm_tips_body: '1) CVV는 검증 용도로만 사용되며 저장되지 않습니다. 2) 카카오페이 전화번호 형식은 010-XXXX-XXXX입니다. 3) 한국 은행카드 번호는 숫자 13~16자리이며 해당 은행을 선택해야 합니다. 4) Visa 카드는 4로 시작하고 Mastercard 카드는 5로 시작하며 Luhn 검증을 통과해야 합니다.',
  card_number_invalid: '카드 번호 형식이 올바르지 않습니다',
  kakao_phone_invalid: '전화번호는 010-XXXX-XXXX 형식',
  bank_name_invalid: '은행명을 선택하세요',
  bank_card_invalid: '카드번호는 13~16자리 숫자',
  account_name_invalid: '예금주를 입력하세요',
  visa_number_invalid: '올바르지 않은 Visa 번호',
  mastercard_number_invalid: '올바르지 않은 Mastercard 번호',
  card_luhn_invalid: 'Luhn 검사 실패',
  card_holder_invalid: '이름 형식이 올바르지 않습니다',
  card_expiry_invalid: '유효기간은 MM/YY',
  card_expiry_past: '유효기간이 지났습니다',
  card_cvv_invalid: 'CVV는 3자리 숫자',
  card_holder_required: '카드 소유자 이름을 입력하세요',
  expiry_invalid: '유효기간 형식은 MM/YY 입니다',
  usdt_address_invalid: 'USDT TRC20 주소 형식이 올바르지 않습니다',
  unsupported_method_type: '지원되지 않는 결제 수단입니다',
  select_payment_method: '결제 수단 선택',
  no_usdt_address: 'USDT 주소 없음',
  add_usdt_address_first: '먼저 USDT 결제 주소를 추가하세요',
  choose_address_for_payment: '수령에 사용할 주소 선택',
  selected_address: '선택한 주소',
    logout_btn: '로그아웃',
  register_title: '회원가입',
  username_rules_hint: '영문/숫자/밑줄 4~20자',
  username_available: '사용 가능한 아이디입니다',
  username_taken: '이미 사용 중인 아이디입니다',
  password_rules_hint: '비밀번호는 6자 이상이며 영문과 숫자를 포함해야 합니다',
  invite_code_optional: '초대코드(선택)',
  invite_code_placeholder: '없다면 비워 두세요',
  register_and_login: '가입 후 로그인',
  have_account: '이미 계정이 있나요?',
  go_login: '로그인하기',
  register_success_title: '가입 완료',
  register_auto_login_desc: '자동으로 로그인되었습니다',
  enter_home: '홈으로 이동',
  register_failed: '가입에 실패했습니다',
  // 로그인
  login_title: '로그인',
  username_label: '사용자명',
  username_placeholder: '4~20자, 영문/숫자/밑줄',
  password_label: '비밀번호',
  password_placeholder: '6자 이상, 문자+숫자 포함',
  login_btn: '로그인',
  no_account: '계정이 없으신가요?',
  go_register: '회원가입',
  username_invalid: '사용자명 형식이 올바르지 않습니다',
  password_invalid: '비밀번호는 6자 이상이고 문자+숫자를 포함해야 합니다',
  login_failed: '로그인 실패',
  login_failed_desc: '아이디 또는 비밀번호를 확인하세요',
  messages_placeholder_title: '내 메시지 (플레이스홀더)',
  messages_empty_desc: '아직 메시지가 없습니다. 시스템 알림, 주문 알림 및 프로모션이 표시될 예정입니다.',
  address_status: '주소 상태',
  address_status_passed: '승인됨, 출금 가능',
  address_status_pending: '검토 대기, 출금 불가',
  address_not_submitted: '미제출',
  current_user: '현재 사용자',
  admin_management: '관리자 페이지',
  remote_data_panel: '실시간 데이터',
  remote_orders: '주문(원격)',
  remote_deposits: '충전(원격)',
  refresh_remote: '원격 새로고침',
  retry_sync: '미전송 재시도',
  // 시스템 상태 / 동기화 큐 진단
  system_status: '시스템 상태',
  sync_queue_title: '동기화 큐',
  queue_empty: '대기 중인 항목 없음',
  retry_count: '재시도 횟수',
  next_attempt_at: '다음 시도',
  discard: '삭제',
  retry_now: '지금 재시도',
  status_waiting: '대기',
  status_failed: '실패',
  status_scheduled: '예약됨',
  status_sent: '전송됨',
  payload_summary: '요약',
  type_user: '사용자',
  type_payment_method: '결제수단',
  type_rate: '환율',
  type_platform_deposit: '플랫폼 입금',
  type_order: '주문',
  type_deposit: '충전',
  show_history: '히스토리 보기',
  hide_history: '히스토리 숨기기',
  // 사용자 관리 / 비밀번호 재설정
  reset_password_btn: '비밀번호 재설정',
  confirm_reset_password: '해당 사용자의 비밀번호를 재설정하시겠습니까? 기존 비밀번호는 즉시 무효화됩니다.',
  reset_password_success: '재설정 완료',
  reset_password_failed: '재설정 실패',
  temp_password_label: '임시 비밀번호',
  must_change_password_note: '다음 로그인 시 반드시 변경해야 합니다',
  force_change_password_title: '임시 비밀번호 변경',
  force_change_password_desc: '계정 비밀번호가 재설정되었습니다. 계속하려면 새 비밀번호를 설정하세요.',
  new_password_label: '새 비밀번호',
  confirm_new_password_label: '새 비밀번호 확인',
  password_mismatch: '두 비밀번호가 일치하지 않습니다',
  password_change_success: '비밀번호가 업데이트되었습니다',
  password_change_failed: '업데이트 실패',
  export_users_csv: 'CSV 내보내기',
  export_users_csv_done: 'CSV 내보내기 완료',
  direct_children_count: '직접 추천 수',
  // 관리자 사용자 목록 검색/정렬 & CSV 헤더
  search_users_placeholder: '사용자 검색 (아이디/초대코드/상위)',
  sort_by: '정렬',
  ascending: '오름차순',
  descending: '내림차순',
  registered_time: '등록 시간',
  last_login_time: '마지막 로그인',
  balance_usdt: '지갑 잔액(USDT)',
  yes: '예',
  no: '아니오',
  csv_username: '사용자명',
  csv_registered_time: '등록 시간',
  csv_last_login_time: '마지막 로그인 시간',
  csv_balance_usdt: '잔액 USDT',
  csv_withdrawable_usdt: '출금 가능 USDT',
  csv_invite_code: '초대 코드',
  csv_inviter_code: '상위 코드',
  csv_is_admin: '관리자 여부',
  csv_direct_children: '직접 추천 수',
  page_unavailable: '페이지를 사용할 수 없습니다',
  returning_to_home: '홈으로 돌아가는 중',
  become_first_admin: '첫 번째 관리자가 되기',
  become_admin_with_code: '해제 코드로 관리자 되기',
  unlock_code_demo_text: '데모 해제 코드: usdtapp-admin-001 (서비스 전 교체)',
    // PaymentAddress
    payment_address_guide_title: 'USDT 수령 주소 설정 가이드',
    chain_type_tron_default: '체인: TRON (기본)',
    guide_step_select_chain: '1. USDT 체인 선택 (기본 TRON)',
    guide_step_paste_address: '2. 지갑 주소를 입력란에 붙여넣기',
    guide_step_review_time: '3. 제출 후 수동 검토 대기 (~24시간)',
    payment_address_settings: '수령 주소 설정',
    chain_type: '체인 유형',
    usdt_address_label: 'USDT 주소',
    placeholder_trc20: 'T로 시작하는 TRON 주소, 34자',
    placeholder_erc20: '0x로 시작, 40자 16진수',
    format_ok: '형식이 올바릅니다',
    format_error_trc20: '형식 오류 (TRON 주소는 T로 시작, 34자)',
    format_error_erc20: '형식 오류 (0x로 시작, 40자 16진수)',
    format_error: '형식 오류',
    remark_optional: '비고(선택)',
    submitted_pending_review: '제출되었습니다. 24시간 내 검토됩니다',
    approved_tip: '✅ 주소 검토 완료, 출금 가능',
    revise_and_resubmit: '수정 후 재제출',
    submit_address: '주소 제출',
    validation_failed: '검증 실패',
    invalid_address_format_for_network: '%{network} 주소 형식이 올바르지 않습니다',
    confirm_change_address_title: '주소를 수정하시겠습니까?',
    confirm_change_address_desc: '주소 변경 시 재검토가 시작되며, 검토 중에는 출금이 불가합니다.',
    submitted_title: '제출 완료',
    resubmitted_desc: '주소가 재제출되었습니다. 24시간 내 검토됩니다',
    submitted_desc: '주소가 제출되었습니다. 24시간 내 검토됩니다',
    test_approve_mock: '테스트 전용: 검토 통과 모의',
    auto_match_deposit_title: '자동 매칭 및 보증금 안내',
    auto_match_point1: '1) 시스템이 금액과 시간에 따라 상인을 자동 매칭',
    auto_match_point2: '2) 한도를 초과하면 주문이 분할됩니다',
    auto_match_point3: '3) 보증금은 매칭 성공률을 높이며 완료 후 반환됩니다',
  },
  
  ja: {
    // ボトムナビゲーション
    trading_hall: '取引ホール',
    my_orders: '私の注文',
    news_center: 'ニュースセンター',
    personal_center: '個人センター',
    
    // 取引ホール
    sell_usdt: 'USDT売却',
    quick_match: 'クイックマッチ',
    user_trade_success: 'ユーザー****が%{amount} USDTの売却に成功しました',
  ok_merchant: 'OK業者',
  huobi_merchant: 'HUOBI業者',
  fast_merchant: 'FAST業者',
  slow_merchant: 'SLOW業者',
    amount: '金額',
    order_limit: '注文限度額',
    settlement_time: '決済時間',
  unit_price: '単価',
  minutes: '分',
  transaction_count: '取引数',
  return_amount: '回収金額',
  filter: 'フィルター',
  merchant_filter: '業者フィルター',
  filter_transactions_desc: '取引数（多→少）',
  filter_settlement_fast: '決済時間（速→遅）',
  filter_limit_asc: '注文限度額（小→大）',
  reset: 'リセット',
  close: '閉じる',
  input_usdt_amount: 'USDT数量を入力',
  start_match: 'マッチ開始',
  match_success: 'マッチ成功',
  match_not_found: 'マッチが見つかりません。金額を調整してください。',
  service_unavailable: 'サービスを利用できません。後でもう一度お試しください。',
  sell_btn: '売却',
  // ティッカー
  ticker_withdraw_success: 'ユーザー**** %{amount} USDTの出金に成功',
  ticker_team_commission: 'ユーザー**** チームコミッション %{amount} USDT',
  ticker_order_profit: 'ユーザー**** 注文完了 収益 %{amount} USDT',
    
    // 私の注文
    all: 'すべて',
    pending_payment: '支払い待ち',
    pending_confirm: '確認待ち',
    dispute: '紛争',
    completed: '完了',
    empty_state: '何もありません~',
    
    // 支払いアドレス
    payment_address: '支払いアドレス',
    add_payment_method: '支払い方法を追加',
    auto_match_description: '自動マッチングの説明',
    deposit_refund_description: '保証金返金の説明',
    
    // 個人センター
  my_assets: '私の資産(USDT)',
  total_earnings: '総収益(USDT)',
  personal_order_earnings: '個人注文収益(USDT)',
  team_commission_earnings: '下位紹介コミッション(USDT)',
  today_earnings: '本日収益(USDT)',
  withdraw_withdrawable: '出金（可能 %{amount}）',
  current_method_prefix: '現在の方式：',
  success: '成功',
  no_withdrawable_amount: '出金可能額がありません',
  confirm_withdraw_message: '出金可能額を申請しますか？',
  withdraw_submitted: '出金申請を送信しました',
  withdraw_failed: '出金に失敗しました',
  withdrawable_amount: '出金可能額',
  team_total_commission: 'チーム累計コミッション',
    wallet_management: 'ウォレット管理',
    deposit: '入金',
    withdraw: '出金',
    exchange_rate_setting: '為替レート設定',
    my_team: '私のチーム',
    my_messages: '私のメッセージ',
    invite_rewards: '招待報酬',
    income_records: '収入記録',
    earnings_details: '収益詳細',
    transfer_records: '送金記録',
    contact_us: 'お問い合わせ',
    faq: 'よくある質問',
    about_us: '私たちについて',
    
  // FAQ
  about_upai: 'U-Payについて',
  about_upai_content: 'U-PayはUSDTを高価で買い取るプラットフォームです。簡単な操作でUSDに交換でき、決済は安定しています。各注文は業者と一緒に完了し、手数料は10%〜55%です。紹介コミッションをサポートし、友達を招待して継続的に収益を得られます。',
  need_deposit: 'U-Payに保証金は必要ですか？',
  need_deposit_content: 'U-Payは保証金を一切取りません。公式スタッフやカスタマーサポートが送金を求めることはありません。個人ウォレットへのUSDT送金や手数料の先払い要求は詐欺の可能性が高いです。',
  how_to_be_agent: 'エージェントになる方法',
  how_to_be_agent_content: '招待コードがあればエージェントになれます。友達を招待して登録・注文完了でコミッション獲得：1段階30%、2段階15%、3段階5%。コミッションはリアルタイムで計上され、USDTアドレスへ出金可能です。',
  beware_fake: '偽物にご注意（必読）',
  beware_fake_content: '公式ドメインとアプリ配布元のみご利用ください。プラットフォーム外での取引や私的な送金を求める行為は高リスクです。公式を名乗る見知らぬ人物を信用しないでください。',

  // スタックタイトル
  register: '登録',
  admin_dashboard: '管理ダッシュボード',
  admin_unlock: '管理者アンロック',
  order_detail: '注文詳細',
  order_create: '注文作成',
    
    // チーム
    team_total: 'チーム総人数',
    level1_agent: 'レベル1エージェント',
    level2_agent: 'レベル2エージェント',
    level3_agent: 'レベル3エージェント',
    commission_rate: '手数料率',
    commission_30: '30%',
    commission_15: '15%',
    commission_5: '5%',
    
    // 共通
    confirm: '確認',
    cancel: 'キャンセル',
  logout_confirm_message: 'ログアウト後は再度ログインが必要です。',
  media_permission_denied: 'アルバムへのアクセス権がありません。設定で有効にしてください。',
  open_settings: '設定を開く',
  view_or_paste_base64: 'base64 を貼り付け/表示',
  hide_base64: 'base64 を閉じる',
  base64_hint: 'これは画像のBase64文字列です。編集不要で保存すればOKです。',
    loading: '読み込み中...',
    refresh: '更新',
    more: 'もっと見る',
    copy: 'コピー',
    copied: 'コピーしました',
    submit: '送信',
    save: '保存',
    version: 'バージョン',
    privacy_policy: 'プライバシーポリシー',
    terms_of_service: '利用規約',
    compliance_links_hint: 'リモートURL設定後にリンクが表示されます',
    backup_restore: 'バックアップ / 復元',
    backup_tip: '下のテキストをコピーして保存。復元時に貼り付けて復元ボタンを押してください。第三者と共有しないで下さい。',
    copy_backup: 'バックアップをコピー',
  export_backup: '再エクスポート',
  export_users_csv: 'CSV エクスポート',
  export_users_csv_done: 'CSV をエクスポートしました',
  direct_children_count: '直紹介人数',
  // 管理者ユーザー一覧 検索/並び替え & CSV ヘッダー
  search_users_placeholder: 'ユーザー検索 (ユーザー名/招待コード/上位)',
  sort_by: '並び替え',
  ascending: '昇順',
  descending: '降順',
  registered_time: '登録時間',
  last_login_time: '最終ログイン',
  balance_usdt: 'ウォレット残高(USDT)',
  yes: 'はい',
  no: 'いいえ',
  csv_username: 'ユーザー名',
  csv_registered_time: '登録時間',
  csv_last_login_time: '最終ログイン時間',
  csv_balance_usdt: '残高USDT',
  csv_withdrawable_usdt: '出金可能USDT',
  csv_invite_code: '招待コード',
  csv_inviter_code: '上位コード',
  csv_is_admin: '管理者?',
  csv_direct_children: '直紹介人数',
    restore_now: '今すぐ復元',
    restore_done: '復元完了',
  status: '状態',
  exchanged_amount: '既に交換数量',
  net_receive_total: '受取総額',
  net_receive_note: '受取総額 = 売却額 - 契約手数料 - 先取り手数料',
  // 最低注文金額
  min_order_amount_label: '最小交換金額(USDT)',
  min_order_amount_hint: 'この金額未満は注文できません',
  min_order_amount_invalid: '有効な最小金額を入力してください（整数≥1）',
  min_order_amount_saved: '最小交換金額を保存しました',
  min_order_amount_not_met: '現在の最小交換金額は %{min} USDT。入力 %{amount} USDT は条件を満たしません',
  platform_min_order_amount_hint: 'プラットフォーム最小 %{min} USDT',
  grabbing_fee_percent: '先取り手数料(%{percent}%)',
  insufficient_balance_desc_net: '残高不足です。必要保有 %{amount} USDT。現在 %{balance} USDT。先にチャージしてください。',
  // OrderDetail 追加
  order_not_found: '注文が見つかりません',
  confirm_update_order_status: '注文ステータスを「%{status}」に更新しますか？',
  order_status_updated: 'ステータスを更新しました',
  update_failed: '更新に失敗しました',
  cannot_submit: '送信できません',
  withdraw_need_address_approved: '出金前に「受取アドレス」ページで手動審査を通過してください',
  confirm_submit_withdraw_request: '出金申請を送信しますか？',
  cannot_undo: 'この操作は取り消せません',
  demo: 'デモ',
  withdraw_demo_notice: '本機能はデモです。実際の出金処理は行われません。',
  mark_pending_confirm: '確認待ちにする',
  mark_dispute: '紛争としてマーク',
  withdraw_demo_button: '出金申請（デモ）',
  // 注文ステータス（管理者の出金審査）
  pending_admin_review: '業者出金待ち',
  approved_payout: '出金完了',
  rejected_payout: '出金拒否',
  // 管理者注文詳細/送金
  payout_address: '受取アドレス',
  tx_hash: 'トランザクションハッシュ',
  confirm_approve_payout: '出金を承認しますか？',
  confirm_reject_payout: 'この注文を拒否しますか？',
  audit_info: '審査情報',
  reviewer: '審査者',
  mark_completed: '完了にする',
  confirm_mark_completed: '完了としてマークしますか？',
  administrator: '管理者',
  invite_code_label: '招待コード',
  inviter_code_label: '上位コード',
  beneficiary: '受益者',
  from_source: '送信元',
  order_id_label: '注文ID',
  no_permission: '権限なし',
  admin_only_access: '管理者のみ',
  error: 'エラー',
  save_failed: '保存失敗',
  tx_hash_optional: 'トランザクションハッシュ（任意）',
  users: 'ユーザー',
  orders: '注文',
  commissions_label: 'コミッション',
  no_orders: '注文はありません',
  choose_qr_from_album: 'アルバムからQR画像を選択',
  // 注文作成
  place_order_to: '%{merchant}へ注文',
  completion_progress: '完了進捗',
  enter_usdt: 'USDTを入力',
  enter_usd: 'USDを入力',
  enter_or_select_usdt: '販売数量を入力/選択（USDT）',
  enter_or_select_usd: '販売金額を入力/選択（USD）',
  selected_amount: '選択した数量',
  service_fee_percent: '契約サービス料(%{percent}%)',
  grabbing_fee: '先取り手数料',
  pay_total: '支払総額',
  trade_note_optional: '取引メモ（任意）',
  optional: '任意',
  confirm_order: '注文を確定',
  invalid_amount: '有効な数量を入力してください',
  order_submit_failed: '注文に失敗しました',
  confirm_place_order_message: '%{amount} USDT（約 $%{usd}）で注文しますか？ 提出後は変更できません。',
  unknown_merchant: '不明な業者',
  ticker_order_created: 'ユーザー**** が %{amount} USDT の注文を作成',
  base_rates_title: '基礎レート設定',
  base_rate_cny: 'USDT→CNY',
  base_rate_krw: 'USDT→KRW',
  base_rate_jpy: 'USDT→JPY',
  local_currency_note: '表示/利益推定のみ。精算に影響なし',
  enter_krw: 'KRW入力',
  enter_or_select_krw: '入力/選択金額 (KRW)',
  insufficient_balance_title: '残高不足',
  insufficient_balance_desc: 'ウォレット残高が不足しています。本注文には %{total} USDT が必要です（数量 %{amount} + 手数料 %{fee} + 先取り手数料 %{grabbing}）。先にチャージしてください。',
  think_again_btn: '再検討',
  go_deposit_btn: 'チャージへ',
  recharge: 'チャージ',
  company_deposit_address: '公式チャージアドレス',
  only_accept_trc20: 'USDT(TRC20)のみ受付。他トークン送付は永久損失の可能性。',
  deposit_amount: 'チャージ額',
  amount_placeholder: '金額を入力',
  upload_proof: '支払い証憑をアップロード',
  proof_required: '支払い証憑をアップロードしてください',
  submit_deposit_request: 'チャージ申請を送信',
  deposit_pending_review: '送信済み。審査待ち。',
  deposit_approved: 'チャージ入金済み',
  deposit_rejected: 'チャージ拒否',
  copy_address: 'アドレスをコピー',
  go_recharge: 'チャージへ',
  approved_amount: '承認金額',
  review_remark: '審査メモ',
  approve: '承認',
  reject: '拒否',
  deposits_review: 'チャージ審査',
  no_deposits: '申請なし',

    // コミッション & 招待
    invitation_code: '招待コード',
    copy_invitation_code: '招待コードをコピー',
    commission_rules: 'コミッション規則',
    commission_rules_desc: '1段階 30%、2段階 15%、3段階 5%。紹介者が注文するとコミッション獲得。',
    level1_commission: '1段階コミッション',
    level2_commission: '2段階コミッション',
    level3_commission: '3段階コミッション',
    total_commission: '累計コミッション',
    recent_commissions: '最近のコミッション明細',
    from_user: '送信ユーザー',
    team_hierarchy: 'チーム階層',
    team_hierarchy_flow: 'チーム構築フロー',
    share_invite_code: '友人に招待コード/リンクを共有',
    friend_register_fill: '友人が登録時にあなたのコードを入力',
    friend_order_commission: '友人が注文完了 — コミッション付与',
    commission_withdrawable_realtime: 'リアルタイム集計 — 出金可能',
    commission_details: 'コミッション明細',
    commission_amount: 'コミッション金額',
    commission_level: 'コミッション段階',
    created_time: '発生時間',
    view_all: 'すべて表示',
    refreshing: '更新中...',
    copied_success: 'コピー成功！',
    alert_title: 'お知らせ',
    input_usdt_amount_alert: 'マッチするUSDT数量を入力してください',
    match_not_found_title: '一致なし',
    grid_rate_settings: 'レート設定',
    grid_language_settings: '言語設定',
    grid_my_team: '私のチーム',
    grid_my_messages: '私のメッセージ',
    grid_invite_rewards: '招待特典',
    grid_income_records: '収入記録',
    grid_earnings_details: '収益詳細',
    grid_transfer_records: '送金記録',
    grid_contact_us: 'お問い合わせ',
    grid_faq: 'FAQ',
    grid_about_us: '私たちについて',
    manage_payment_address: '支払いアドレス管理',
  add_payment_method: '支払い方法を追加',
  manage_payment_methods: '支払い方法の管理',
  edit_payment_method: '支払い方法を編集',
  confirm_delete_method: 'この支払い方法を削除しますか？',
  choose_method: '支払い方法を選択',
  method_kakao_pay: 'カカオペイ',
  method_kr_bank_card: '韓国の銀行カード',
  method_visa: 'Visa',
  method_mastercard: 'Mastercard',
  method_usdt_trc20: 'USDT(TRC20)',
  kakao_phone: 'Kakao Pay 登録電話番号',
  kr_bank_name: '銀行名',
  kr_bank_card_number: 'カード番号',
  kr_account_name: '口座名義',
  cvv: 'CVV',
  bank_name_keb_hana: 'KEB ハナ銀行',
  bank_name_shinhan: '新韓銀行',
  bank_name_kb: '国民銀行',
  bank_name_woori: 'ウリィ銀行',
  card_number: 'カード番号',
  card_holder: '名義人',
  expiry_date: '有効期限',
  usdt_address: 'USDTアドレス(TRC20)',
  save_method: '保存',
  delete: '削除',
  set_default_method: '既定に設定',
  default_method_hint: '既定の支払い方法は自動選択され、いつでも変更できます。',
  default_method_label: '既定',
  set_default_method_success: '既定に設定しました',
  no_methods: '支払い方法がありません',
  submit_success: '保存しました',
  pm_tips_title: '利用とセキュリティ注意',
  pm_tips_body: '1) CVVは検証のみで保存しません。 2) Kakao電話番号: 010-XXXX-XXXX。 3) 韓国銀行カード: 13～16桁+銀行選択。 4) Visaは4開始 / Mastercardは5開始で Luhn 検証必須。',
  card_number_invalid: 'カード番号の形式が正しくありません',
  kakao_phone_invalid: '電話番号は 010-XXXX-XXXX 形式',
  bank_name_invalid: '銀行名を選択してください',
  bank_card_invalid: 'カード番号は13〜16桁の数字',
  account_name_invalid: '名義は必須です',
  visa_number_invalid: '無効な Visa 番号',
  mastercard_number_invalid: '無効な Mastercard 番号',
  card_luhn_invalid: 'Luhn チェックに失敗しました',
  card_holder_invalid: '名義の形式が正しくありません',
  card_expiry_invalid: '有効期限は MM/YY',
  card_expiry_past: '有効期限は現在より後である必要があります',
  card_cvv_invalid: 'CVV は3桁の数字',
  card_holder_required: '名義人を入力してください',
  expiry_invalid: '有効期限は MM/YY で入力してください',
  usdt_address_invalid: 'USDT TRC20 アドレスの形式が正しくありません',
  unsupported_method_type: '未対応の支払い方法です',
  select_payment_method: '支払い方法を選択',
  no_usdt_address: 'USDTアドレスがありません',
  add_usdt_address_first: 'まずUSDT支払いアドレスを追加してください',
  choose_address_for_payment: '受け取り用のアドレスを選択',
  selected_address: '選択したアドレス',
    logout_btn: 'ログアウト',
  register_title: '新規登録',
  username_rules_hint: '英数字とアンダースコアのみ、4〜20文字',
  username_available: 'このユーザー名は利用できます',
  username_taken: 'このユーザー名は既に使用されています',
  password_rules_hint: 'パスワードは6文字以上で英字と数字を含めてください',
  invite_code_optional: '招待コード（任意）',
  invite_code_placeholder: 'ない場合は空欄のまま',
  register_and_login: '登録してログイン',
  have_account: 'すでにアカウントがありますか？',
  go_login: 'ログインへ',
  register_success_title: '登録完了',
  register_auto_login_desc: '自動的にログインしました',
  enter_home: 'ホームへ',
  register_failed: '登録に失敗しました',
  // ログイン
  login_title: 'ログイン',
  username_label: 'ユーザー名',
  username_placeholder: '4〜20文字、英数字とアンダーバー',
  password_label: 'パスワード',
  password_placeholder: '6文字以上、英字+数字を含む',
  login_btn: 'ログイン',
  no_account: 'アカウントをお持ちでないですか？',
  go_register: '登録へ',
  username_invalid: 'ユーザー名の形式が正しくありません',
  password_invalid: 'パスワードは6文字以上で英字+数字を含めてください',
  login_failed: 'ログイン失敗',
  login_failed_desc: 'ユーザー名またはパスワードを確認してください',
  messages_placeholder_title: '私のメッセージ（プレースホルダー）',
  messages_empty_desc: 'まだメッセージはありません。今後システム通知、注文アラート、キャンペーンが表示されます。',
  address_status: 'アドレス状態',
  address_status_passed: '承認済み、出金可',
  address_status_pending: '審査待ち、出金不可',
  address_not_submitted: '未提出',
  current_user: '現在のユーザー',
  admin_management: '管理ダッシュボード',
  remote_data_panel: 'ライブデータ',
  remote_orders: '注文(リモート)',
  remote_deposits: '入金(リモート)',
  refresh_remote: 'リモート更新',
  retry_sync: '未送信の再試行',
  // システム状態 / 同期キュー診断
  system_status: 'システム状態',
  sync_queue_title: '同期キュー',
  queue_empty: '保留中の項目なし',
  retry_count: '再試行回数',
  next_attempt_at: '次回試行',
  discard: '破棄',
  retry_now: '今すぐ再試行',
  status_waiting: '待機中',
  status_failed: '失敗',
  status_scheduled: '予定済み',
  status_sent: '送信済み',
  payload_summary: '概要',
  type_user: 'ユーザー',
  type_payment_method: '支払方法',
  type_rate: 'レート',
  type_platform_deposit: 'プラットフォーム入金',
  type_order: '注文',
  type_deposit: '入金',
  show_history: '履歴を表示',
  hide_history: '履歴を隠す',
  page_unavailable: 'ページを利用できません',
  returning_to_home: 'ホームへ戻ります',
  become_first_admin: '最初の管理者になる',
  become_admin_with_code: '解除コードで管理者になる',
  unlock_code_demo_text: 'デモ解除コード: usdtapp-admin-001（本番は置き換え）',
    // PaymentAddress
    payment_address_guide_title: 'USDT受取アドレス設定ガイド',
    chain_type_tron_default: 'チェーン：TRON（デフォルト）',
    guide_step_select_chain: '1. USDTチェーンを選択（デフォルトはTRON）',
    guide_step_paste_address: '2. ウォレットアドレスを入力欄に貼り付け',
    guide_step_review_time: '3. 提出後に手動審査を待つ（約24時間）',
    payment_address_settings: '受取アドレス設定',
    chain_type: 'チェーン種別',
    usdt_address_label: 'USDTアドレス',
    placeholder_trc20: 'Tで始まるTRONアドレス、34文字',
    placeholder_erc20: '0xで始まる40桁の16進数',
    format_ok: '形式は正しいです',
    format_error_trc20: '形式エラー（TRONはTで始まり、34文字）',
    format_error_erc20: '形式エラー（0xで始まる40桁の16進数）',
    format_error: '形式エラー',
    remark_optional: '備考（任意）',
    submitted_pending_review: '提出されました。24時間以内に審査します',
    approved_tip: '✅ アドレス承認済み、出金可能',
    revise_and_resubmit: '修正して再提出',
    submit_address: 'アドレスを提出',
    validation_failed: '検証に失敗しました',
    invalid_address_format_for_network: '%{network} アドレス形式が正しくありません',
    confirm_change_address_title: 'アドレスを変更しますか？',
    confirm_change_address_desc: 'アドレス変更で再審査が開始され、審査中は出金できません。',
    submitted_title: '提出完了',
    resubmitted_desc: 'アドレスを再提出しました。24時間以内に審査します',
    submitted_desc: 'アドレスを提出しました。24時間以内に審査します',
    test_approve_mock: 'テストのみ：審査通過を模擬',
    auto_match_deposit_title: '自動マッチングと保証金の説明',
    auto_match_point1: '1) 金額と時間に基づき自動で業者をマッチ',
    auto_match_point2: '2) 限度額を超える場合は分割されます',
    auto_match_point3: '3) 保証金はマッチ成功率を高め、完了後に返金されます',
  },
};

export const I18nProvider = ({ children }) => {
  const [currentLanguage, setCurrentLanguage] = useState('zh');
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    loadSavedLanguage();
  }, []);

  const loadSavedLanguage = async () => {
    try {
      const savedLanguage = await AsyncStorage.getItem('selectedLanguage');
      if (savedLanguage) {
        setCurrentLanguage(savedLanguage);
      } else {
        // 未保存语言时，尝试基于 IP 自动识别；失败则回退到设备语言
        const detected = await detectLanguageByIP();
        setCurrentLanguage(detected);
        await AsyncStorage.setItem('selectedLanguage', detected);
      }
    } catch (error) {
      console.error('Error loading saved language:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const changeLanguage = async (languageCode) => {
    try {
      await AsyncStorage.setItem('selectedLanguage', languageCode);
      setCurrentLanguage(languageCode);
    } catch (error) {
      console.error('Error saving language:', error);
    }
  };

  // 基于 IP 识别语言（中国→zh，日本→ja，韩国→ko，其它→en），失败时回退到设备语言
  const detectLanguageByIP = async () => {
    // 设备语言兜底
    const deviceLocale = (Intl && Intl.DateTimeFormat && Intl.DateTimeFormat().resolvedOptions().locale) || 'en';
    const deviceLang = (deviceLocale.split('-')[0] || 'en').toLowerCase();

    const mapCountryToLang = (countryCodeOrName = '') => {
      const code = String(countryCodeOrName).trim().toUpperCase();
      const name = String(countryCodeOrName).trim();
      // ISO 3166-1 alpha-2
      if (code === 'CN' || name === 'China' || name === '中国') return 'zh';
      if (code === 'KR' || name === 'Korea, Republic of' || name === 'South Korea' || name === '韩国') return 'ko';
      if (code === 'JP' || name === 'Japan' || name === '日本') return 'ja';
      return 'en';
    };

    // 带超时的请求
    const fetchWithTimeout = async (url, ms = 3000) => {
      try {
        const ctrl = new AbortController();
        const id = setTimeout(() => ctrl.abort(), ms);
        const res = await fetch(url, { signal: ctrl.signal });
        clearTimeout(id);
        if (!res.ok) throw new Error('network');
        return res.json();
      } catch (e) {
        throw e;
      }
    };

    try {
      // 优先 ipapi.co；失败则 ipwho.is
      let countryCode = '';
      try {
        const data = await fetchWithTimeout('https://ipapi.co/json/');
        countryCode = data?.country || data?.country_code || '';
      } catch (_) {
        const data2 = await fetchWithTimeout('https://ipwho.is/');
        countryCode = data2?.country_code || data2?.country || '';
      }
      const lang = mapCountryToLang(countryCode);
      // 如果映射到英文，但设备语言是 zh/ko/ja 之一且用户在对应国家也可能被屏蔽，则仍按映射优先，保持英文
      return ['zh', 'ko', 'ja', 'en'].includes(lang) ? lang : (['zh','ko','ja'].includes(deviceLang) ? deviceLang : 'en');
    } catch (e) {
      // 失败回退到设备语言（受支持则用其，不支持则英文）
      return ['zh','ko','ja'].includes(deviceLang) ? deviceLang : 'en';
    }
  };

  const t = (key, params = {}) => {
    const translation = translations[currentLanguage]?.[key] || translations['zh'][key] || key;
    
    // 处理参数替换
    if (params && Object.keys(params).length > 0) {
      return translation.replace(/%\{(\w+)\}/g, (match, paramKey) => {
        const val = Object.prototype.hasOwnProperty.call(params, paramKey) ? params[paramKey] : undefined;
        return (val !== undefined && val !== null) ? String(val) : match;
      });
    }
    
    return translation;
  };

  const value = {
    currentLanguage,
    changeLanguage,
    t,
    isLoading,
    availableLanguages: [
      { code: 'zh', name: '中文', nativeName: '中文' },
      { code: 'en', name: 'English', nativeName: 'English' },
      { code: 'ko', name: 'Korean', nativeName: '한국어' },
      { code: 'ja', name: 'Japanese', nativeName: '日本語' },
    ],
  };

  return (
    <I18nContext.Provider value={value}>
      {children}
    </I18nContext.Provider>
  );
};